{% extends 'base.html' %}
{% load i18n %}
{% load account socialaccount %}
{% load static %}

{% block title %} Login into your account {% endblock title %}

{% block content %}

{% get_providers as socialaccount_providers %}

<div class="px-12" tyle="border: 6px solid red;">
  <div class="container-sm mt-7 mx-auto" tyle="border: 2px solid blue">

  {% if socialaccount_providers %}
  <div class="px-">

    <h2 class="text-center text-2xl text-heading-color font-bold px-" styl="border: 1px dotted green;">
      Welcome, please sign in to your  {% blocktrans with site.name as site_name %} {{ site_name }} account.
     {% endblocktrans %}</h2>
  </div>


    <div class="text-center mt-12" styl="border: 2px dashed red;">
          <a 
            class="border-2 border-gray-200 rounded-md px-4 py-2.5" 
            styl="border: 2px solid blue;" 
            href="{% provider_login_url  "google"  process="connect" %}"
          > 
            <!-- <img class="inline w-6" src="https://img.icons8.com/color/48/null/google-logo.png" /> -->
            <img
              class="w-7 inline" 
              src="{% static '/the_blog/media/icons/icons8-google.svg' %}" 
              alt="google"  
            >
            Login with Google
          </a>

        <p class="mt-7 uppercase">{% trans 'or' %}</p>
    </div>

    {% include "socialaccount/snippets/login_extra.html" %}
  {% endif %}


  {% if next %}
    <p class="">Please login to see this page.</p>
  {% endif %}


    <div class="mt-12 flex justify-center items-center flex-col" tyle="border: 3.5px dashed orange;">
      <h2 class="text-2xl">Sign in with email</h2>
      <form
        method="POST" 
        novalidate 
        class=" w-2/4 flex justify-center items-center flex-col mt-4"
        tyle="border: 3px solid yellow;"
      >
        {% csrf_token %}

        {% if form.errors %}
          <p class=""> Your email and/or password didn't match.</p>
          <p class="">Note that both fields may be case-sensitive.</p>
        {% endif %}

        <div class="space-y-4 w-2/4" tyle="border: 2px dashed blue;">
          <div class="">
            <div class="mb-1">
            {{ form.login.label_tag }}
            </div>
          
            <input type="email" class="rounded-md w-full bg-gray-50 focus:bg-white border-gray-300" id="id_login" name="login">

            <div style="color: red;">
              {% for error in form.username.errors %}
                {{ error }}
              {% endfor %}
            </div>
          </div>

          <div class="">
            <div class="mb-1">
            {{ form.password.label_tag }}
            <span class="text-sm underline">
              <a href="{% url 'account_reset_password' %}">Forgot?</a>
            </span>
            </div>
          
            <input type="password" class="rounded-md w-full bg-gray-50 focus:bg-white border-gray-300" id="id_password" name="password">

            <div style="color: red;">
              {% for error in form.password.errors %}
              {{ error }}
              {% endfor %}
            </div>
          </div>
        </div>

        <!-- <div class="forgot-password mt-3">
          <p><a href="{% url 'account_reset_password' %}">Forgot my password</a></p>
        </div> -->

          <button class="bg-primary-color text-white px-4 py-3 w-2/4 rounded-lg mt-4">Login</button>

          <p class="mt-5 text-sm"  tyle="border: 1px dotted gray">Don't have an account? 
            <a class="underline" href="{% url 'account_signup' %}">Sign up</a>
          </p>
      </form>
    </div>
  </div>
</div>

{% endblock content %}